<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Redirecting…</title>
    <script>
      // SPA fallback for GitHub Pages.
      // It rewrites:
      //   /<repo>/some/route  ->  /<repo>/?/some/route
      // Then index.html restores it (see index.html patch below).
      (function () {
        var l = window.location;
        var parts = l.pathname.split('/').filter(Boolean);
        var repo = parts.length ? parts[0] : '';
        var rest = parts.slice(1).join('/');
        var newUrl = l.protocol + '//' + l.host + '/' + repo + '/?/' + rest + l.search + l.hash;
        l.replace(newUrl);
      })();
    </script>
  </head>
  <body>Redirecting…</body>
</html>
